{"mappings":"YAAA,IAAMA,EAAmBC,SAASC,iBAAiB,uBAC7CC,EAAYF,SAASG,cAAc,iBACnCC,EAAkBJ,SAASG,cAAc,mBACzCE,EAAeL,SAASG,cAAc,sBACxCG,EAAQ,EAQZ,SAASC,EAAaC,GAClBA,EAAGC,iBACH,IAAIC,EAAOF,EAAGG,cACVC,EAASF,EAAKG,QAAQ,uBACtBC,EAAKF,EAAOG,QAAQD,GACpBE,EAAQJ,EAAOT,cAAc,uBAAuBc,YACxDC,QAAQC,IAAIH,GACZ,IAAII,EAAcC,SAASC,EAAmBV,EAAOT,cAAc,uBAAuBc,cAwDnFX,GAtDOc,EACdF,QAAQC,IAAIb,GACZiB,IACAnB,EAAgBoB,mBAAmB,YAavC,SAAqBC,G,IAACX,EAADW,EAACX,GAAIE,EAALS,EAAKT,MAAOI,EAAZK,EAAYL,YAC7B,MAAO,kCACwBM,OADUZ,EAAG,yCAOEY,OANfV,EAAM,mQAMkCU,OAAzBC,EAAYP,GAAa,0G,CArBvBQ,CAAW,CAACZ,QAAOI,cAAaN,QAChFe,IAEAnB,EAAKoB,UAAW,C,CAuCpB,SAASR,EAAmBS,GACxB,OAAOA,EAAIC,QAAO,MAAQ,G,CAG9B,SAASL,EAAYI,GACjB,OAAOE,OAAOF,GAAKC,QAAO,gCAAkC,M,CAShE,SAAST,IACLrB,EAAUe,YAAc,GAAsBS,OAAnBC,EAAYrB,GAAO,O,CAGlD,SAASuB,IACN,IAAIK,EAAS9B,EAAgB+B,SAASD,OACtC7B,EAAaY,YAAciB,C,CAhF9BnC,EAAiBqC,SAAQ,SAAAC,GACpBA,EAAUxB,QAAQ,uBAAuByB,aAAa,UAwDhDC,KAAKC,SAASC,SAAS,IAAIC,UAAU,EAAG,IAAMH,KAAKC,SAASC,SAAS,IAAIC,UAAU,EAAG,KAvD5FL,EAAUM,iBAAiB,QAASpC,E,IAsBzCH,EAAgBuC,iBAAiB,SAAS,SAACC,GACtCA,EAAEC,OAAOC,UAAUC,SAAS,oBAoBjC,SAAuBC,GACdA,EAAc7C,cAAc,cAAcY,QAAQD,GAC3Dd,SAASG,cAAc,+BAA+BA,cAAc,mBAAmB2B,UAAW,EAwBlG,SAAwBmB,GACb3C,GAAS2C,C,CAtBpBC,CADmB7B,SAASC,EAAmBV,OAAOT,cAAc,uBAAuBc,eAE3FM,IACAyB,EAAcG,SACdtB,G,CA3BIuB,CAAcR,EAAEC,OAAOhC,QAAQ,c","sources":["src/js/cart.js"],"sourcesContent":["const addProductToCart = document.querySelectorAll('.add-product-button');\nconst fullPrice = document.querySelector('.total-dinero');\nconst cardProductList = document.querySelector('.products-cards');\nconst showQuantity = document.querySelector('.quantity-products');\nlet price = 0;\n\naddProductToCart.forEach(addButton => {\n     addButton.closest('.products-list-item').setAttribute(\"data-id\", randomId());\n     addButton.addEventListener('click', onAddProduct);\n});\n    \n\nfunction onAddProduct(el) {\n    el.preventDefault();\n    let self = el.currentTarget;\n    let parent = self.closest('.products-list-item');\n    let id = parent.dataset.id;\n    let title = parent.querySelector('.products-list-name').textContent;\n    console.log(title);\n    let priceNumber = parseInt(priceWithoutSpaces(parent.querySelector('.add-product-button').textContent));\n\n    plusFullPrice(priceNumber)\n    console.log(price);\n    printFullPrice();\n    cardProductList.insertAdjacentHTML('beforeend', markupCard({title, priceNumber, id}));\n    printQuantity();\n   \n    self.disabled = true;\n};\n\ncardProductList.addEventListener('click', (e) => {\n  if(e.target.classList.contains('.delete-product')) {\n    deleteProduct(e.target.closest('.prod-card'));\n  }\n});\n\n\nfunction markupCard ({id, title, priceNumber}) {\n    return `<li class=\"prod-card\" data-id=\"${id}\">\n    <h4 class=\"prod-card-title\">\"${title}\"</h4>\n    <div id=\"counter\">\n      <button type=\"button\" data-action=\"decrement\">-1</button>\n      <span id=\"value\">0</span>\n      <button type=\"button\" data-action=\"increment\">+1</button>\n    </div>\n    <h5>Price: <span class=\"card-content-price\">${normalPrice(priceNumber)}</span> UAH</h5>\n    <button type=\"button\" class=\"delete-product\" value=\"1\">Delete</button>\n\n  </li>`;\n};\n\nfunction deleteProduct(productParent) {\nlet id = productParent.querySelector('.prod-card').dataset.id;\ndocument.querySelector('.prod-cart[data-id=\"${id}\"]').querySelector('.delete-product').disabled = false;\n\nlet currentPrice = parseInt(priceWithoutSpaces(parent.querySelector('.card-content-price').textContent));\nminusFullPrice(currentPrice);\nprintFullPrice();\nproductParent.remove();\nprintQuantity();\n};\n\nfunction randomId() {\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n};\n\nfunction priceWithoutSpaces(str) {\n    return str.replace(/\\s/g, '');\n};\n\nfunction normalPrice(str) {\n    return String(str).replace(/(\\d)(?=(\\d\\d\\d) + ([^\\d]|$))/g, '$1 ');\n};\n\nfunction plusFullPrice(currentPrice) {\n    return price += currentPrice;\n};\nfunction minusFullPrice(currentPrice) {\n    return price -= currentPrice;\n};\nfunction printFullPrice() {\n    fullPrice.textContent = `${normalPrice(price)} UAH`;\n};\n\nfunction printQuantity() {\n   let length = cardProductList.children.length;\n   showQuantity.textContent = length;\n//    length > 0 ? cart.classList.add('active') : cart.classList.remove('active');\n};"],"names":["$ce375e1befa17f1c$var$addProductToCart","document","querySelectorAll","$ce375e1befa17f1c$var$fullPrice","querySelector","$ce375e1befa17f1c$var$cardProductList","$ce375e1befa17f1c$var$showQuantity","$ce375e1befa17f1c$var$price","$ce375e1befa17f1c$var$onAddProduct","el","preventDefault","self","currentTarget","parent","closest","id","dataset","title","textContent","console","log","priceNumber","parseInt","$ce375e1befa17f1c$var$priceWithoutSpaces","$ce375e1befa17f1c$var$printFullPrice","insertAdjacentHTML","param","concat","$ce375e1befa17f1c$var$normalPrice","$ce375e1befa17f1c$var$markupCard","$ce375e1befa17f1c$var$printQuantity","disabled","str","replace","String","length","children","forEach","addButton","setAttribute","Math","random","toString","substring","addEventListener","e","target","classList","contains","productParent","currentPrice","$ce375e1befa17f1c$var$minusFullPrice","remove","$ce375e1befa17f1c$var$deleteProduct"],"version":3,"file":"index.0b9323a5.js.map"}